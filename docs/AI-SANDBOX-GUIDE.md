# AI 샌드박스 가이드

## 개요

AI가 안전하게 파일 수정 및 데이터베이스 작업할 수 있는 격리된 환경 제공. Laravel Livewire 기반으로 실시간 테스트 인터페이스 지원.

## 주요 기능

### 파일 관리
- 샌드박스 디렉토리 내 파일 생성/수정/삭제
- AI 전용 격리 환경에서 안전한 파일 조작
- 백업 및 복구 지원

### 데이터베이스 작업  
- 전용 SQLite 연결로 격리된 DB 환경
- SQL 쿼리 실행 및 결과 확인
- 테이블 스키마 조회 및 관리
- 쿼리 히스토리 추적

### 웹 인터페이스
- 탭 기반 UI로 기능별 분리
- 실시간 결과 표시
- 쿼리 재실행 기능
- 빠른 작업 버튼 제공

## 시스템 구조

### 디렉토리 구조
```
storage/ai-sandbox/
├── files/          # AI 수정 가능 파일들
├── db/            # SQLite 데이터베이스 
├── backups/       # 백업 파일들
└── locks/         # 동시 접근 제어
```

### 컴포넌트 구성
- Livewire Manager 컴포넌트가 모든 샌드박스 작업 담당
- 전용 데이터베이스 연결 사용으로 메인 DB와 분리
- Alpine.js와 연동해 반응형 UI 제공

## 보안 특징

### 격리 환경
- 샌드박스 디렉토리 외부 접근 차단
- 전용 DB 연결로 메인 데이터 보호
- 파일 시스템 권한 제한

### 프로젝트 범위 제한
- 현재 프로젝트 내에서만 동작
- 미들웨어로 접근 권한 관리
- 외부 시스템 접근 불가

## 테스트 환경 접속

로컬 서버에서 /ai-sandbox 경로로 접속하면 테스트 인터페이스 사용 가능

### 인터페이스 구성
- Files: 파일 관리 탭
- SQL: 쿼리 실행 탭  
- Tables: 테이블 스키마 조회 탭
- Code: 추후 확장용 탭

### 쿼리 히스토리
실행한 SQL 쿼리들이 시간순으로 저장되며, 클릭해서 재실행 가능

### 빠른 작업
자주 사용하는 쿼리들을 버튼으로 제공:
- 전체 데이터 조회
- 레코드 개수 확인  
- 테이블 스키마 보기

## 주요 제한사항

### 파일 접근
샌드박스 디렉토리 외부 파일은 접근 불가

### 데이터베이스
메인 애플리케이션 DB는 접근 차단

### 네트워크
외부 API 호출 및 네트워크 접근 제한

## 문제 해결

### DB 연결 오류
SQLite 파일 권한 확인 및 디렉토리 생성 여부 점검

### 파일 수정 실패
샌드박스 디렉토리 쓰기 권한 확인

### UI 응답 없음
브라우저 콘솔에서 JavaScript 오류 확인